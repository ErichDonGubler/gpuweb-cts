{"version":3,"file":"abstract_float_assignment.spec.js","names":["description","makeTestGroup","GPUTest","abstractFloat","TypeAbstractFloat","TypeF32","FP","f32FilteredF64Range","makeCaseCache","allInputSources","run","assignment","g","d","f32","map","f","input","expected","correctlyRoundedInterval","test","specURL","desc","params","u","combine","fn","t","cases","get","unimplemented"],"sources":["../../../../../../src/webgpu/shader/execution/expression/unary/abstract_float_assignment.spec.ts"],"sourcesContent":["export const description = `\nExecution Tests for assignment of AbstractFloats to concrete data types\n`;\n\nimport { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../gpu_test.js';\nimport { abstractFloat, TypeAbstractFloat, TypeF32 } from '../../../../util/conversion.js';\nimport { FP } from '../../../../util/floating_point.js';\nimport { f32FilteredF64Range } from '../../../../util/math.js';\nimport { makeCaseCache } from '../case_cache.js';\nimport { allInputSources, run } from '../expression.js';\n\nimport { assignment } from './unary.js';\n\nexport const g = makeTestGroup(GPUTest);\n\nexport const d = makeCaseCache('unary/abstract_float_assignment', {\n  f32: () => {\n    return f32FilteredF64Range().map(f => {\n      return { input: abstractFloat(f), expected: FP.f32.correctlyRoundedInterval(f) };\n    });\n  },\n});\n\ng.test('f32')\n  .specURL('https://www.w3.org/TR/WGSL/#floating-point-conversion')\n  .desc(\n    `\nconcretizing to f32\n`\n  )\n  .params(u => u.combine('inputSource', [allInputSources[0]])) // Only defined for const-eval\n  .fn(async t => {\n    const cases = await d.get('f32');\n    await run(t, assignment(), [TypeAbstractFloat], TypeF32, t.params, cases);\n  });\n\ng.test('f16')\n  .specURL('https://www.w3.org/TR/WGSL/#floating-point-conversion')\n  .desc(\n    `\nconcretizing to f16\n`\n  )\n  .params(u => u.combine('inputSource', [allInputSources[0]])) // Only defined for const-eval\n  .unimplemented();\n"],"mappings":";AAAA;AAAA,GAAA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA,CAAC,CAED,SAASC,aAAa,QAAQ,+CAA+C;AAC7E,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,aAAa,EAAEC,iBAAiB,EAAEC,OAAO,QAAQ,gCAAgC;AAC1F,SAASC,EAAE,QAAQ,oCAAoC;AACvD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,aAAa,QAAQ,kBAAkB;AAChD,SAASC,eAAe,EAAEC,GAAG,QAAQ,kBAAkB;;AAEvD,SAASC,UAAU,QAAQ,YAAY;;AAEvC,OAAO,MAAMC,CAAC,GAAGX,aAAa,CAACC,OAAO,CAAC;;AAEvC,OAAO,MAAMW,CAAC,GAAGL,aAAa,CAAC,iCAAiC,EAAE;EAChEM,GAAG,EAAE,MAAM;IACT,OAAOP,mBAAmB,EAAE,CAACQ,GAAG,CAAC,CAAAC,CAAC,KAAI;MACpC,OAAO,EAAEC,KAAK,EAAEd,aAAa,CAACa,CAAC,CAAC,EAAEE,QAAQ,EAAEZ,EAAE,CAACQ,GAAG,CAACK,wBAAwB,CAACH,CAAC,CAAC,CAAC,CAAC;IAClF,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;;AAEFJ,CAAC,CAACQ,IAAI,CAAC,KAAK,CAAC;AACVC,OAAO,CAAC,uDAAuD,CAAC;AAChEC,IAAI;AACF;AACL;AACA,CAAC,CACE;;AACAC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,aAAa,EAAE,CAAChB,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,CAC5DiB,EAAE,CAAC,OAAMC,CAAC,KAAI;EACb,MAAMC,KAAK,GAAG,MAAMf,CAAC,CAACgB,GAAG,CAAC,KAAK,CAAC;EAChC,MAAMnB,GAAG,CAACiB,CAAC,EAAEhB,UAAU,EAAE,EAAE,CAACP,iBAAiB,CAAC,EAAEC,OAAO,EAAEsB,CAAC,CAACJ,MAAM,EAAEK,KAAK,CAAC;AAC3E,CAAC,CAAC;;AAEJhB,CAAC,CAACQ,IAAI,CAAC,KAAK,CAAC;AACVC,OAAO,CAAC,uDAAuD,CAAC;AAChEC,IAAI;AACF;AACL;AACA,CAAC,CACE;;AACAC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,aAAa,EAAE,CAAChB,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,CAC5DqB,aAAa,EAAE"}